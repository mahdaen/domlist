!function(a){"use strict";var b=function(a,c){var d=this;if(this.length=0,isString(a)){var e,d=this;if(isHTML(c))e=c.querySelectorAll(a);else if(isDOMList(c)){var f=0;c.each(function(){var b=this.querySelectorAll(a);foreach(b,function(a,b){"length"!==a&&(d[f]=b,d.length=f+1,f++)})})}else{if(isString(c)&&!isHTMLString(c))return c=new b(c),new b(a,c);if(isHTMLString(a)){var g=document.createElement("div");g.innerHTML=a,e=g.children}else e=document.querySelectorAll(a)}e&&e.length>0&&(foreach(e,function(a,b){"length"!==a&&(d[a]=b)}),d.length=e.length)}else if(isHTML(a))d[0]=a,d.length=1;else if(isArray(a))d.length=a.length,foreach(a,function(a,b){d[b]=a});else if(isDOMList(a))return a;return this};a.$dom=a.DOMList=function(a,c){return new b(a,c)},a.$dom.module=b.prototype={name:"DOMList",splice:Array.prototype.splice,first:function(){return this.length>0?new b(this[0]):this},firstChild:function(){if(this.length<=0)return this;var a=this[0],c=a.children;return c.length>0?new b(c[0]):new b},last:function(){return this.length>0?new b(this[this.length-1]):this},lastChild:function(){if(this.length<=0)return this;var a=this[0],c=a.children;return c.length>0?new b(c[c.length-1]):new b},nth:function(a){return isNumber(a)&&this.hasOwnProperty(a)?new b(this[a]):new b},nthChild:function(a){if(this.length<=0)return this;var c=this[0],d=c.children;return d.length>0&&d.hasOwnProperty(a)?new b(d[a]):new b},find:function(a){return isString(a)?new b(a,this):void 0},each:function(a,b){return isFunction(a)&&(b?reveach(this,function(b,c){a.call(b,c,b)}):foreach(this,function(b,c){a.call(b,c,b)})),this},attr:function(a,b){var c=this;if(!(this.length<=0)){if(isString(a)){if(isDefined(b))return(isObject(b)||isArray(b))&&(b=JSON.stringify(b)),c.each(function(){this.setAttribute(a,b)}),this;var d,e=c[0].getAttribute(a);try{d=JSON.parse(e)}catch(f){}return d?d:"true"===e?!0:"false"===e?!1:"undefined"===e?void 0:"null"===e?null:"NaN"===e?0/0:Number(e)?Number(e):e}if(isObject(a))foreach(a,function(a,b){c.attr(a,b)});else{if(!isArray(a)){var g=c[0].attributes,e={};return foreach(g,function(a,b){"length"!==a&&(e[b.name]=c.attr(b.name))}),e}foreach(a,function(a){c.attr(a,"")})}return c}},remove:function(){return this.each(function(){this.remove()}),this},sortBy:function(a,c){var d=this,e={type:"string",direction:"ascending"};if(isObject(c)&&foreach(c,function(a,b){e[a]=b}),isString(a)){var f=[];d.each(function(b){var c=this.getAttribute(a);f.push(isString(c)?c+"<>"+b:"zabc<>"+b)}),f="number"===e.type?f.sort(function(a,b){var c=Number(a.split("<>")[0]),d=Number(b.split("<>")[0]);return c||(c=999999999999999),d||(d=999999999999999),c>d?1:-1}):f.sort(),"descending"===e.direction&&(f=f.reverse());var g=new b;return g.length=f.length,foreach(f,function(a,b){a=a.split("<>")[1],g[b]=d[a]}),g}return this},addClass:function(a){var b=this;return isString(a)?b.each(function(){this.classList.add(a)}):isArray(a)&&foreach(a,function(a){b.addClass(a)}),this},remClass:function(a){var b=this;return isString(a)?b.each(function(){this.classList.remove(a)}):isArray(a)&&foreach(a,function(a){b.remClass(a)}),this},toggleClass:function(a){var b=this;return isString(a)?b.each(function(){this.classList.toggle(a)}):isArray(a)&&foreach(a,function(a){b.toggleClass(a)}),this},append:function(a){var c=this;if(c.length<=0)return c;if(isHTML(a))c[0].appendChild(a);else if(isArray(a)||isDOMList(a))foreach(a,function(a){c[0].appendChild(a)});else if(isString(a))if(isHTMLString(a))c[0].insertAdjacentHTML("beforeend",a);else{var d=new b(a);d.each(function(){c[0].appendChild(this)})}return this},prepend:function(a){var c=this;if(c.length<=0)return this;if(isHTML(a))c[0].children.length<=0?c[0].appendChild(a):c[0].insertBefore(a,c[0].children[0]);else if(isDOMList(a)||isArray(a))if(c[0].children.length<=0)foreach(a,function(a){c[0].appendChild(a)});else{var d=c[0].children[0];foreach(a,function(a){c[0].insertBefore(a,d)})}else if(isString(a))if(isHTMLString(a))c[0].insertAdjacentHTML("afterbegin",a);else{var e=new b(a);if(c[0].children.length<=0)e.each(function(){c[0].appendChild(this)});else{var d=c[0].children[0];e.each(function(){c[0].insertBefore(this,d)})}}return this},appendTo:function(a){var c=this;if(c.length<=0)return c;if(isHTML(a))c.each(function(){a.appendChild(this)});else if(isDOMList(a)||isArray(a)&&a.length>0)a=a[0],c.each(function(){a.appendChild(this)});else if(isString(a)&&!isHTMLString(a)){var d=new b(a);d.length>0&&c.each(function(){d[0].appendChild(this)})}return this},prependTo:function(a){var c=this;if(c.length<=0)return c;if(isHTML(a))if(a.children.length>0){var d=a.children[0],e=d.parentElement;c.each(function(){e.insertBefore(this,d)})}else c.each(function(){a.appendChild(this)});else if(isDOMList(a)||isArray(a)&&a.length>0)if(a=a[0],a.children.length>0){var d=a.children[0],e=d.parentElement;c.each(function(){e.insertBefore(this,d)})}else c.each(function(){a.appendChild(this)});else if(isString(a)&&!isHTMLString(a)){var f=new b(a);if(f.length>0)if(a=f[0],a.children.length>=0){var d=a.children[0],e=d.parentElement;c.each(function(){e.insertBefore(this,d)})}else c.each(function(){a.appendChild(this)})}return this},insertBefore:function(a){var c=this;if(c.length<=0)return c;if(isHTML(a)){var d=a.parentElement;c.each(function(){d.insertBefore(this,a)})}else if(isDOMList(a)||isArray(a)&&a.length>0){var d=a[0].parentElement;c.each(function(){d.insertBefore(this,a[0])})}else if(isString(a)&&!isHTMLString(a)&&(a=new b(a),a.length>0)){var d=a[0].parentElement;c.each(function(){d.insertBefore(this,a[0])})}return this},insertAfter:function(a){var c=this;if(c.length<=0)return c;if(isHTML(a)){var d=a.parentElement;c.each(function(){d.insertBefore(this,a.nextSibling)},!0)}else if(isDOMList(a)||isArray(a)&&a.length>0){var d=a[0].parentElement;c.each(function(){d.insertBefore(this,a[0].nextSibling)},!0)}else if(isString(a)&&!isHTMLString(a)&&(a=new b(a),a.length>0)){var d=a[0].parentElement;c.each(function(){d.insertBefore(this,a[0].nextSibling)},!0)}return this},animate:function(a,b,c){var d=this;return isObject(a)&&(a=[a]),isArray(a)&&(isNumber(b)&&(b={duration:b}),isObject(b)&&d.each(function(){var d=this;if(isFunction(c)){var e=d.animate(a,b);e.onfinish=function(){c.call(d,e)}}else d.animate(a,b)})),this}},HTMLElement.prototype.find=function(a){return new b(a,this)}}(window);